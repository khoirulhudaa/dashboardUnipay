import{r as t,u as B,o as K,a as s,d as C,j as a,b as M}from"./index-c509510f.js";import{S as D}from"./alertBox-071da68b.js";import{B as P}from"./button-41c36fcd.js";import{T as j}from"./table-93168af6.js";import{i as A}from"./equal-f26f0b90.js";import{A as T}from"./api-ee442efb.js";import"./formatDate-90248bb2.js";import"./toRupiah-980d2178.js";const L=()=>{const[o,p]=t.useState(""),[r,d]=t.useState(""),[n,f]=t.useState(""),[h,g]=t.useState(!1),[x,y]=t.useState(!1),[S,c]=t.useState(!1),[i,v]=t.useState([]),N=B(),b=K(),{prodi:u}=b;return t.useEffect(()=>{(async()=>{try{const l=await T.getAllHistoryPayments(),w=l.data.data.filter(m=>m.prodi===u&&m.type_payment==="PKKMB");A(i,l.data.data)||(v(w),y(!1),g(!1),c(!1))}catch(l){console.log(l.message)}})()},[N,S,x]),s(C,{children:[s("div",{className:"panel",children:[s("div",{className:"flex flex-col mb-5 gap-5",children:[s("h5",{className:"font-semibold text-lg dark:text-white-light",children:["Data PKKMB (",u??"-",")"]}),s("div",{className:"flex items-center",children:[a("input",{type:"text",className:"form-input w-auto py-3 mr-3",placeholder:"Kode transaksi",value:o,onChange:e=>p(e.target.value)}),a("input",{type:"text",className:"form-input w-auto py-3 mr-3",placeholder:"Tahun ajaran",value:r,onChange:e=>d(e.target.value)}),a("input",{type:"text",className:"form-input w-auto py-3 mr-3",placeholder:"Kelas",value:n,onChange:e=>f(e.target.value)}),a("div",{className:"ml-auto",children:a(P,{onClick:()=>c(!0),text:"Muat ulang",typeButton:"with-icon",icon:a(M,{})})})]})]}),a("div",{className:"datatables",children:a("div",{className:"flex-auto px-0 pt-0 pb-2",children:a("div",{className:"p-0 overflow-x-auto",children:a(j,{classRoom:n,year:r,code:o,columns:[{label:"NIM"},{label:"Nama"},{label:"Waktu"},{label:"Tahun"},{label:"Jumlah"},{label:"Kode"}],data:i})})})})]}),h&&D({text:"Berhasil daftar",title:"Success",confirmButtonText:"Lanjut",showCancelButton:!1,icon:"success"})]})};export{L as default};
