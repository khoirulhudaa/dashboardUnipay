import{r as e,u as k,o as C,a as s,d as B,j as a,b as D}from"./index-c28607b4.js";import{S as T}from"./alertBox-0434af11.js";import{B as j}from"./button-124bb9c8.js";import{T as A}from"./table-1079cff9.js";import{i as M}from"./equal-f26f0b90.js";import{A as E}from"./api-b9b00496.js";import"./formatDate-90248bb2.js";import"./toRupiah-980d2178.js";const L=()=>{const[r,p]=e.useState(""),[n,d]=e.useState(""),[i,f]=e.useState(""),[h,g]=e.useState(!1),[x,S]=e.useState(!1),[y,l]=e.useState(!1),[c,v]=e.useState([]),N=k(),b=C(),{prodi:u}=b;return e.useEffect(()=>{(async()=>{try{const o=await E.getAllHistoryPayments(),w=o.data.data.filter(m=>m.prodi===u&&m.type_payment==="Sertification");M(c,o.data.data)||(v(w),S(!1),g(!1),l(!1))}catch(o){console.log(o.message)}})()},[N,y,x]),s(B,{children:[s("div",{className:"panel",children:[s("div",{className:"flex flex-col mb-5 gap-5",children:[s("h5",{className:"font-semibold text-lg dark:text-white-light",children:["Data Semesteran (",u??"-",")"]}),s("div",{className:"flex items-center",children:[a("input",{type:"text",className:"form-input w-auto py-3 mr-3",placeholder:"Kode transaksi",value:r,onChange:t=>p(t.target.value)}),a("input",{type:"text",className:"form-input w-auto py-3 mr-3",placeholder:"Tahun ajaran",value:n,onChange:t=>d(t.target.value)}),a("input",{type:"text",className:"form-input w-auto py-3 mr-3",placeholder:"Kelas",value:i,onChange:t=>f(t.target.value)}),a("div",{className:"ml-auto",children:a(j,{onClick:()=>l(!0),text:"Muat ulang",typeButton:"with-icon",icon:a(D,{})})})]})]}),a("div",{className:"datatables",children:a("div",{className:"flex-auto px-0 pt-0 pb-2",children:a("div",{className:"p-0 overflow-x-auto",children:a(A,{prodi:"Teknik Informatika",classRoom:i,year:n,code:r,columns:[{label:"NIM"},{label:"Nama"},{label:"Waktu"},{label:"Tahun"},{label:"Jumlah"},{label:"Kode"}],data:c,update:t=>l(t)})})})})]}),h&&T({text:"Berhasil daftar",title:"Success",confirmButtonText:"Lanjut",showCancelButton:!1,icon:"success"})]})};export{L as default};
